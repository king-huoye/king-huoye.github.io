<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">åŠ è½½ä¸­...</title>
    <link rel="stylesheet" href="index.html" type="text/css" media="screen" title="no title" charset="utf-8">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha512-fHwaWebuwA7NSF5Qg/af4UeDx9XqUpYpOGgubo3yWu+b2IQR4UeQwbb42Ti7gVAjNtVoI/I9TEoYeu9omwcC6g==" crossorigin="anonymous">

    <style>
        /* CSSæ ·å¼ä¸ä¸»é¡µå¡ç‰‡é£æ ¼ä¿æŒä¸€è‡´ï¼Œå¹¶æ·»åŠ äº†Markdownæ¸²æŸ“åçš„å…ƒç´ æ ·å¼ã€‚
           è¿™éƒ¨åˆ†CSSæ˜¯ä¸ºäº†ç¡®ä¿è§£æMarkdownåç”Ÿæˆçš„HTMLå…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ã€ä»£ç å—ã€åˆ—è¡¨ç­‰ï¼‰
           èƒ½æœ‰ç¾è§‚çš„æ ·å¼ã€‚ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 0.8s ease;
        }

        .header h1 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        a {
            text-decoration: none;
            color: inherit;
        }
        /* è”ç³»é¡¹ï¼ˆæŒ‰é’®æ ·å¼ï¼‰ï¼Œåœ¨è¿™é‡Œä½œä¸ºâ€œè¿”å›åˆ—è¡¨â€æŒ‰é’® */
        .contact-item {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .contact-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* ä¸»å†…å®¹åŒºåŸŸï¼Œåœ¨è¿™é‡Œç”¨äºæ˜¾ç¤ºMarkdownæ¸²æŸ“åçš„æ–‡ç« å†…å®¹ */
        .main-content {
            flex: 1; /* å•åˆ—å¸ƒå±€ */
            min-width: 0;
            max-width: 900px; /* é™åˆ¶æ–‡ç« å†…å®¹çš„æœ€å¤§å®½åº¦ï¼Œä½¿å…¶æ›´æ˜“è¯» */
            margin: 30px auto; /* å±…ä¸­ */
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: fadeInUp 0.8s ease;
        }

        /* Markdownæ¸²æŸ“åçš„å…ƒç´ æ ·å¼ */
        .markdown-body {
            /* åŸºç¡€æ–‡æœ¬æ ·å¼ */
            font-size: 1em;
            line-height: 1.8;
            color: #333;
        }

        .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
            color: #333;
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            font-weight: 600;
            padding-bottom: 5px;
            border-bottom: 1px solid rgba(0,0,0,0.1); /* ä¸‹åˆ’çº¿ */
        }
        .markdown-body h1 { font-size: 2em; border-bottom: 2px solid #667eea; padding-bottom: 10px;}
        .markdown-body h2 { font-size: 1.6em; border-bottom: 1px solid #764ba2; padding-bottom: 8px;}
        .markdown-body h3 { font-size: 1.3em; }

        .markdown-body p {
            margin-bottom: 1em;
        }

        .markdown-body ul, .markdown-body ol {
            margin-left: 25px; /* åˆ—è¡¨ç¼©è¿› */
            margin-bottom: 1em;
        }

        .markdown-body li {
            margin-bottom: 0.5em;
        }

        /* å†…è”ä»£ç æ ·å¼ */
        .markdown-body code {
            background-color: #f0f0f0;
            border-radius: 4px;
            padding: 2px 5px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace; /* ä»£ç å­—ä½“ */
            color: #e83e8c; /* ç²‰è‰²å­—ä½“ */
        }

        /* ä»£ç å—æ ·å¼ */
        .markdown-body pre {
            background-color: #282c34; /* æ·±è‰²èƒŒæ™¯ */
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto; /* å…è®¸æ°´å¹³æ»šåŠ¨ */
            margin-bottom: 1em;
        }
        .markdown-body pre code {
            background-color: transparent; /* ç»§æ‰¿çˆ¶çº§èƒŒæ™¯ */
            padding: 0;
            color: #abb2bf; /* æµ…è‰²å­—ä½“ */
            white-space: pre-wrap; /* è‡ªåŠ¨æ¢è¡Œ */
            word-wrap: break-word; /* å•è¯æ¢è¡Œ */
        }

        /* å¼•ç”¨å—æ ·å¼ */
        .markdown-body blockquote {
            border-left: 4px solid #667eea; /* å·¦ä¾§è¾¹æ¡† */
            background-color: #f8f8f8;
            padding: 10px 15px;
            margin: 1em 0;
            color: #555;
            font-style: italic;
        }

        /* è¡¨æ ¼æ ·å¼ */
        .markdown-body table {
            width: 100%;
            border-collapse: collapse; /* åˆå¹¶è¾¹æ¡† */
            margin: 1em 0;
        }

        .markdown-body th, .markdown-body td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .markdown-body th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        /* å›¾ç‰‡æ ·å¼ */
        .markdown-body img {
            max-width: 100%;
            height: auto;
            display: block; /* å—çº§æ˜¾ç¤ºï¼Œå±…ä¸­ */
            margin: 1em auto;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header { padding: 20px; }
            .header h1 { font-size: 2em; }
            .main-content { padding: 20px; }
        }

        /* åŠ¨ç”» */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1 id="article-title"></h1>
        <p id="article-date"></p>
        <a href="interview-notes.html" class="contact-item">ğŸ”™ è¿”å›ç¬”è®°åˆ—è¡¨</a>
    </div>
</div>

<div class="main-content">
    <div id="markdown-content" class="markdown-body">
        åŠ è½½ä¸­...
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/java.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha512-LQNxIMR5rXv7o+b1l8+N1EZMfhG7iFZ9HhnbJkTp4zjNr5Wvst75AqUeFDxeRUa7l5vEDyUiAip//r+EFLLCyA==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" onload="renderMathInElement(document.body, {
    // å®šä¹‰ KaTeX è¯†åˆ«çš„æ•°å­¦å…¬å¼åˆ†éš”ç¬¦
    delimiters: [
        {left: '$$', right: '$$', display: true},    // å—çº§å…¬å¼ï¼Œä¾‹å¦‚ $$ \sum_{i=1}^n i $$
        {left: '\\[', right: '\\]', display: true},  // å—çº§å…¬å¼ï¼Œä¾‹å¦‚ \[ \sum_{i=1}^n i \]
        {left: '$', right: '$', display: false},     // è¡Œå†…å…¬å¼ï¼Œä¾‹å¦‚ $a^2 + b^2 = c^2$
        {left: '\\(', right: '\\)', display: false} // è¡Œå†…å…¬å¼ï¼Œä¾‹å¦‚ \(a^2 + b^2 = c^2\)
    ],
    // å…è®¸ KaTeX æ¸²æŸ“æœªçŸ¥ç¬¦å·ï¼Œé˜²æ­¢å› ä¸ºä¸æ”¯æŒçš„ç¬¦å·å¯¼è‡´æ•´ä¸ªå…¬å¼ä¸æ¸²æŸ“
    throwOnError: false
});"></script>

<script>
    document.addEventListener('DOMContentLoaded', async function() {
        const markdownContentDiv = document.getElementById('markdown-content');
        const pageTitle = document.getElementById('page-title'); // æµè§ˆå™¨æ ‡ç­¾é¡µæ ‡é¢˜
        const articleTitle = document.getElementById('article-title'); // é¡µé¢å†…éƒ¨å¤§æ ‡é¢˜
        const articleDate = document.getElementById('article-date'); // é¡µé¢å†…éƒ¨æ—¥æœŸ

        // 1. è·å– URL ä¸­çš„æŸ¥è¯¢å‚æ•°
        const urlParams = new URLSearchParams(window.location.search);
        const noteFileName = urlParams.get('note'); // è·å– ?note= åé¢çš„å€¼

        // å¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶åï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å¹¶é€€å‡º
        if (!noteFileName) {
            markdownContentDiv.innerHTML = '<p style="color: #d9534f;">âŒ é”™è¯¯ï¼šæœªæŒ‡å®šè¦åŠ è½½çš„ç¬”è®°æ–‡ä»¶ã€‚<br>è¯·æ£€æŸ¥URLæ˜¯å¦åŒ…å«æœ‰æ•ˆçš„ "?note=æ–‡ä»¶å" å‚æ•°ã€‚</p>';
            pageTitle.textContent = 'é”™è¯¯ - éœçƒ¨æ™¯çš„å°ç©ºé—´';
            articleTitle.textContent = 'åŠ è½½å¤±è´¥ï¼šæœªæŒ‡å®šæ–‡ä»¶';
            articleDate.textContent = '';
            return;
        }

        // 2. æ„é€  Markdown æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
        // å‡è®¾æ‰€æœ‰ Markdown æ–‡ä»¶éƒ½å­˜æ”¾åœ¨ "notes/" ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åæ˜¯ noteFileName.md
        const markdownFilePath = `notes/${noteFileName}.md`;

        try {
            // 3. å¼‚æ­¥åŠ è½½ Markdown æ–‡ä»¶å†…å®¹
            const response = await fetch(markdownFilePath);

            // æ£€æŸ¥HTTPå“åº”çŠ¶æ€ç ï¼Œå¦‚æœä¸æ˜¯æˆåŠŸçš„2xxï¼Œåˆ™æŠ›å‡ºé”™è¯¯
            if (!response.ok) {
                let errorText = `åŠ è½½å¤±è´¥ï¼šæ–‡ä»¶ "${markdownFilePath}" ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®ã€‚`;
                if (response.status === 404) {
                    errorText = `åŠ è½½å¤±è´¥ï¼šæ–‡ä»¶ "${markdownFilePath}" æœªæ‰¾åˆ° (404)ã€‚<br>è¯·æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦æ‹¼å†™æ­£ç¡®ï¼ˆåŒ…æ‹¬å¤§å°å†™ï¼‰ï¼Œå¹¶ç¡®è®¤æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº 'notes/' ç›®å½•ä¸‹ã€‚`;
                } else {
                    errorText = `åŠ è½½å¤±è´¥ï¼šæœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç  ${response.status} - ${response.statusText}`;
                }
                markdownContentDiv.innerHTML = `<p style="color: #d9534f;">âŒ ${errorText}</p>`;
                pageTitle.textContent = `é”™è¯¯ - ${noteFileName} - éœçƒ¨æ™¯çš„å°ç©ºé—´`;
                articleTitle.textContent = 'åŠ è½½å¤±è´¥';
                articleDate.textContent = '';
                console.error("Fetch error:", response); // æ‰“å°è¯¦ç»†çš„å“åº”åˆ°æ§åˆ¶å°
                return; // æå‰é€€å‡ºå‡½æ•°
            }

            const markdownText = await response.text(); // è·å–æ–‡ä»¶æ–‡æœ¬å†…å®¹

            // 4. é…ç½® marked.js å°† Markdown è½¬æ¢ä¸º HTML
            marked.setOptions({
                gfm: true, // å¯ç”¨ GitHub Flavored Markdown (GFM)ï¼Œæ”¯æŒæ›´å¤šMarkdownè¯­æ³•
                breaks: true, // è‡ªåŠ¨å°† Markdown ä¸­çš„ç¡¬å›è½¦ï¼ˆæ¢è¡Œç¬¦ï¼‰è½¬æ¢ä¸º <br>
                // highlight å‡½æ•°å‘Šè¯‰ marked åœ¨é‡åˆ°ä»£ç å—æ—¶å¦‚ä½•è¿›è¡Œé«˜äº®
                highlight: function(code, lang) {
                    // æ£€æŸ¥ highlight.js æ˜¯å¦æ”¯æŒå½“å‰è¯­è¨€ï¼Œå¦‚æœä¸æ”¯æŒåˆ™ä½¿ç”¨çº¯æ–‡æœ¬æ¨¡å¼
                    const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                    // ä½¿ç”¨ highlight.js å¯¹ä»£ç è¿›è¡Œé«˜äº®å¤„ç†
                    return hljs.highlight(code, { language }).value;
                }
            });

            // æ‰§è¡ŒMarkdownè§£æ
            const htmlContent = marked.parse(markdownText);
            // å°†è§£æåçš„HTMLæ’å…¥åˆ°é¡µé¢
            markdownContentDiv.innerHTML = htmlContent;

            // 5. ä» Markdown å†…å®¹ä¸­æå–æ ‡é¢˜å’Œæ—¥æœŸï¼Œå¹¶æ›´æ–°é¡µé¢æ ‡é¢˜
            const lines = markdownText.split('\n'); // å°†Markdownæ–‡æœ¬æŒ‰è¡Œåˆ†å‰²
            let extractedTitle = ''; // æå–åˆ°çš„æ ‡é¢˜
            let extractedDate = ''; // æå–åˆ°çš„æ—¥æœŸ
            let foundTitle = false; // æ ‡è®°æ˜¯å¦å·²æ‰¾åˆ°æ ‡é¢˜

            // éå†Markdownæ–‡ä»¶çš„å‰å‡ è¡Œï¼ˆæœ€å¤š10è¡Œï¼‰ï¼Œå°è¯•æå–æ ‡é¢˜å’Œæ—¥æœŸ
            for (let i = 0; i < Math.min(lines.length, 10); i++) {
                const line = lines[i].trim(); // è·å–å½“å‰è¡Œå¹¶å»é™¤é¦–å°¾ç©ºæ ¼

                // å°è¯•åŒ¹é… Markdown çš„ä¸€çº§æ ‡é¢˜ (ä¾‹å¦‚: "# æˆ‘çš„æ ‡é¢˜")
                const titleMatch = line.match(/^#\s+(.*)/);
                if (titleMatch && titleMatch[1] && !foundTitle) {
                    extractedTitle = titleMatch[1].trim(); // æå–æ ‡é¢˜æ–‡æœ¬
                    foundTitle = true; // æ ‡è®°å·²æ‰¾åˆ°æ ‡é¢˜
                }
                // å°è¯•åŒ¹é…æ—¥æœŸä¿¡æ¯ (ä¾‹å¦‚: "Date: 2025å¹´6æœˆ28æ—¥" æˆ– "Published: 2025-06-28")
                const dateMatch = line.match(/(?:Date|Published|æ—¥æœŸ):\s*(.*)/i);
                if (dateMatch && dateMatch[1]) {
                    extractedDate = dateMatch[1].trim(); // æå–æ—¥æœŸæ–‡æœ¬
                }

                // å¦‚æœæ ‡é¢˜å’Œæ—¥æœŸéƒ½æ‰¾åˆ°äº†ï¼Œå°±åœæ­¢éå†
                if (foundTitle && extractedDate) {
                    break;
                }
            }

            // å¦‚æœä»Markdownå†…å®¹ä¸­æ²¡æœ‰æå–åˆ°æ ‡é¢˜ï¼Œåˆ™å°è¯•ä»æ–‡ä»¶åç”Ÿæˆä¸€ä¸ªæ ‡é¢˜
            if (!foundTitle) {
                // å°†æ–‡ä»¶åä¸­çš„è¿å­—ç¬¦æ›¿æ¢ä¸ºç©ºæ ¼ï¼Œå¹¶é¦–å­—æ¯å¤§å†™ï¼Œç§»é™¤ .md åç¼€
                extractedTitle = noteFileName.replace(/-/g, ' ').split('.').slice(0, -1).join(' ').replace(/\b\w/g, l => l.toUpperCase());
            }

            // æ›´æ–°é¡µé¢å…ƒç´ çš„æ–‡æœ¬å†…å®¹
            pageTitle.textContent = `${extractedTitle} - éœçƒ¨æ™¯çš„å°ç©ºé—´`; // æ›´æ–°æµè§ˆå™¨æ ‡ç­¾é¡µæ ‡é¢˜
            articleTitle.textContent = extractedTitle; // æ›´æ–°é¡µé¢å†…éƒ¨æ–‡ç« å¤§æ ‡é¢˜
            articleDate.textContent = extractedDate ? `ğŸ“… ${extractedDate}` : ''; // å¦‚æœæœ‰æ—¥æœŸåˆ™æ˜¾ç¤ºï¼Œå¹¶æ·»åŠ è¡¨æƒ…ç¬¦å·

        } catch (error) {
            console.error("åŠ è½½æˆ–è§£æMarkdownæ–‡ä»¶å¤±è´¥:", error); // æ‰“å°JSé”™è¯¯åˆ°æ§åˆ¶å°
            // æ˜¾ç¤ºæ›´å‹å¥½çš„é”™è¯¯ä¿¡æ¯ç»™ç”¨æˆ·
            markdownContentDiv.innerHTML = `<p style="color: #d9534f;">âŒ åŠ è½½ç¬”è®°å¤±è´¥ã€‚å¯èƒ½åŸå› ï¼šæ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®ï¼Œæˆ–è€…ä½ æ­£åœ¨é€šè¿‡ "file://" åè®®ç›´æ¥æ‰“å¼€æ–‡ä»¶å¯¼è‡´æµè§ˆå™¨å®‰å…¨é™åˆ¶ã€‚<br>å¼ºçƒˆå»ºè®®ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆå¦‚ VS Code çš„ Live Server æ’ä»¶ï¼‰æ¥è¿è¡Œä½ çš„ç½‘é¡µã€‚</p><p style="color: #d9534f;">è¯¦ç»†é”™è¯¯ä¿¡æ¯: ${error.message}</p>`;
            pageTitle.textContent = 'é”™è¯¯ - éœçƒ¨æ™¯çš„å°ç©ºé—´';
            articleTitle.textContent = 'åŠ è½½å¤±è´¥';
            articleDate.textContent = '';
        }
    });
</script>
</body>
</html>
